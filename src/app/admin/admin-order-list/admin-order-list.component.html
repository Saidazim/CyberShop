<nb-card>
    <nb-card-header>
      Orders
    </nb-card-header>
  
    <nb-card-body>
  
      <table mat-table [dataSource]="orders | async" class="mat-elevation-z1">
      
        <ng-container matColumnDef="userName">
          <th mat-header-cell *matHeaderCellDef> Name </th>
          <td mat-cell *matCellDef="let order"> {{ order.userName }} </td>
        </ng-container>
        
        <ng-container matColumnDef="phone">
          <th mat-header-cell *matHeaderCellDef> Phone </th>
          <td mat-cell *matCellDef="let order"> {{ order.phone }} </td>
        </ng-container>
      
        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef> Email </th>
          <td mat-cell *matCellDef="let order"> {{ order.email }} </td>
        </ng-container>
      
        <ng-container matColumnDef="address">
          <th mat-header-cell *matHeaderCellDef> Address </th>
          <td mat-cell *matCellDef="let order"> {{ order.address }} </td>
        </ng-container>
  
        <ng-container matColumnDef="products">
          <th mat-header-cell *matHeaderCellDef> Products </th>
          <td mat-cell *matCellDef="let order">
            <span *ngFor="let item of order.products">
              {{ item.product.name }}({{item.quantity}}), 
            </span> 
          </td>
        </ng-container>
        
        <ng-container matColumnDef="total">
          <th mat-header-cell *matHeaderCellDef> Total </th>
          <td mat-cell *matCellDef="let order"> ${{ order.totalSum | number }} </td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
  
    </nb-card-body>
  </nb-card>
  
  